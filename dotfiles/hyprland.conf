# Hyprland Configuration
# Managed by home-manager, symlinked to ~/.config/hypr/hyprland.conf

# ============================================================================
# Monitor Configuration
# ============================================================================

# Auto-detect monitors (configure manually if needed)
# monitor=,preferred,auto,1
# Example: monitor=DP-1,1920x1080@144,0x0,1


# ============================================================================
# Input Configuration
# ============================================================================

input {
    # Keyboard layout
    kb_layout = se
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    # Mouse settings
    follow_mouse = 1
    
    # Touchpad settings
    touchpad {
        natural_scroll = false
    }

    # Mouse sensitivity (-1.0 to 1.0, 0 = no modification)
    sensitivity = 0
}


# ============================================================================
# General Settings
# ============================================================================

general {
    # Gaps
    gaps_in = 5
    gaps_out = 10

    # Border settings
    border_size = 2
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    # Layout
    layout = dwindle

    # Tearing (for gaming, usually off)
    allow_tearing = false
}


# ============================================================================
# Decoration (Visual Effects)
# ============================================================================

decoration {
    # Window rounding
    rounding = 10

    # Opacity
    active_opacity = 1.0
    inactive_opacity = 1.0

    # Blur
    blur {
        enabled = true
        size = 3
        passes = 1
    }
}


# ============================================================================
# Animations
# ============================================================================

animations {
    enabled = true

    # Bezier curves for animations
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    # Animation definitions
    # syntax: NAME, ONOFF, SPEED, CURVE, STYLE
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}


# ============================================================================
# Layouts
# ============================================================================

dwindle {
    # Master switch for pseudotiling
    pseudotile = true

    # Keep floating dimensions while tiled
    preserve_split = true
}

# ============================================================================
# Misc Settings
# ============================================================================

misc {
    # Disable anime mascot wallpapers (we use swaybg instead)
    force_default_wallpaper = 0

    # Disable splash screen
    disable_hyprland_logo = true
}


# ============================================================================
# Keybindings
# ============================================================================

# Main modifier keys
$mainMod = SUPER
$hyper = CTRL ALT SHIFT SUPER

# Applications
bind = $mainMod, Return, exec, ghostty
bind = $mainMod, Space, exec, wofi --show drun
bind = $mainMod, B, exec, firefox

# Window management
bind = $mainMod, W, killactive
bind = $mainMod, M, exit
bind = $mainMod, V, togglefloating
bind = $mainMod, P, pseudo
bind = $mainMod, J, togglesplit
bind = $mainMod, F, fullscreen

# Move focus (arrow keys)
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Move focus (vim keys)
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Switch workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Screenshot
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy

# Reload configuration
bind = $mainMod SHIFT, R, exec, hyprctl reload

# ============================================================================
# Hyper Key Bindings (Caps Lock + key)
# ============================================================================

# Previous / next workspace (vim-like)
bindd = $hyper, h, Switch to previous active workspace, workspace, m-1
bindd = $hyper, l, Switch to next active workspace, workspace, m+1

# Switch to specific workspaces (using keycodes for number row)
bindd = $hyper, code:10, Switch to workspace 1, workspace, 1
bindd = $hyper, code:11, Switch to workspace 2, workspace, 2
bindd = $hyper, code:12, Switch to workspace 3, workspace, 3
bindd = $hyper, code:13, Switch to workspace 4, workspace, 4
bindd = $hyper, code:14, Switch to workspace 5, workspace, 5
bindd = $hyper, code:15, Switch to workspace 6, workspace, 6
bindd = $hyper, code:16, Switch to workspace 7, workspace, 7
bindd = $hyper, code:17, Switch to workspace 8, workspace, 8
bindd = $hyper, code:18, Switch to workspace 9, workspace, 9
bindd = $hyper, code:19, Switch to workspace 10, workspace, 10

# Cycle through applications on active workspace (vim-like)
bindd = ALT, L, Cycle to next window, cyclenext
bindd = ALT, H, Cycle to prev window, cyclenext, prev

# Fullscreen (maximize width, keep height)
bindd = $hyper, F, Full width, fullscreen, 1

# ============================================================================
# Window Rules
# ============================================================================

# Example window rules
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
# windowrulev2 = opacity 0.8 0.8,class:^(kitty)$


# ============================================================================
# Autostart
# ============================================================================

exec-once = waybar
exec-once = mako
exec-once = swaybg -i ~/.config/hypr/wallpaper.jpg -m fill
